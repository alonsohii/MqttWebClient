# MQTT.Cool Web Client #

## Use ##
Install the package using npm

```
npm install mqtt.cool-web-client
```

Load the library from local `node_modules`:
```html
<html>
<head>
  <script src="./node_modules/mqtt.cool-web-client/dist/mqtt.cool.js"></script>
  ...
</html>
```

Open a session against the MQTT.Cool server, create an MQTT client and connect to the MQTT broker

```js
mqttcool.openSession('http://my.MQTT.Cool.server:8080', 'my_user', 'my_password', {

  onConnectionSuccess: function(mqttCoolSession) {

    var client = mqttCoolSession.createClient('my_mqtt_broker', 'my_client_id');

    client.connect({
      onSuccess: function() {
        console.log("Connected!");
      }
    });
    ...
  }
});
```

Request a Subscription

```js
client.subscribe("my/cool/topic");
```

Listen for messages

```js
client.onMessageArrived = function(message) {
  console.log("onMessageArrived:" + message.payloadString);
}
```

Publish a Message to the server

```js
message = new mqttcool.Message("My Message!");
message.destinationName = "my/cool/topic";
client.send(message)
```

For further details check the [API](http://www.lightstreamer.com/api/mqtt.cool-web-client/1.0.0), the [Getting Started Guide](http://www.lightstreamer.com/latest/mqtt.cool/MQTT.Cool%20Getting%20Started%20Guide.html) and the available [examples](http://demos.lightstreamer.com?p=mqttcool&t=client&lclient=html)